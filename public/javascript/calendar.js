document.addEventListener('DOMContentLoaded', function(event) {
  console.log("It's Alive")
  M.AutoInit();

  let eventsArr = [{
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'The The',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }, {
    date: '12/18/18',
    dayOfWeek: 'Sat',
    headliner: 'Bandz',
    venue: 'Red Rocks'
  }]

  // Creating Table/ Blocks
  const body = document.querySelector('body')
  const calendar = document.querySelector('.calendar-section')
  const events = document.querySelector('#events-row')


  const createRows = () => {
    eventsArr.forEach(event => {
      let dateDiv = document.createElement('div')
      let dayDiv = document.createElement('div')
      let headlineDiv = document.createElement('div')
      let venueDiv = document.createElement('div')
      let buttonDiv = document.createElement('div')
      let button = document.createElement('a')

      dateDiv.setAttribute('class', 'col l2 s2 row-element valign-wrapper date-div')
      dayDiv.setAttribute('class', 'col l2 s2 row-element valign-wrapper')
      headlineDiv.setAttribute('class', 'col l3 s3 row-element valign-wrapper')
      venueDiv.setAttribute('class', 'col l3 s3 row-element valign-wrapper')
      buttonDiv.setAttribute('class', 'col l2 s2 row-element valign-wrapper row-element-last')
      button.setAttribute('class', 'waves-effect waves-light btn event-btn z-depth-0 center valign-wrapper modal-trigger')
      button.setAttribute('data-target', 'modal3')


      dateDiv.innerText = `${event.date}`
      dayDiv.innerText = `${event.dayOfWeek}`
      headlineDiv.innerText = `${event.headliner}`
      venueDiv.innerText = `${event.venue}`
      button.innerText = 'Book'
      button.value = {
        date: `${event.date}`,
        day: `${event.dayOfWeek}`,
        headliner: `${event.headliner}`,
        venue: `${event.venue}`
      }


      events.appendChild(dateDiv)
      events.appendChild(dayDiv)
      events.appendChild(headlineDiv)
      events.appendChild(venueDiv)
      events.appendChild(buttonDiv)
      buttonDiv.appendChild(button)
    })

  }

  createRows()

  // Book Function
  const bookModal = document.querySelector('#modal3-content')

  calendar.addEventListener('click', (event) => {
    let eventInfo = event.target.value
    let headliner = eventInfo.headliner
    let date = eventInfo.date
    let venue = eventInfo.venue
    let day = eventInfo.day
    let modalTitle = document.createElement('h5')

    while (bookModal.hasChildNodes()) {
      bookModal.removeChild(bookModal.lastChild);
    }

    modalTitle.innerText = `${headliner} - ${day} (${date}) at ${venue}`

    bookModal.appendChild(modalTitle)


  })






  // Book Button
  const bookBtn = document.querySelector('.book-btn')

  bookBtn.addEventListener('click', (event) => {
    console.log('Book button clicked from modal')
    bookBtn.setAttribute('class', 'modal-close')
  })

  // Sort (Stretch)




}) // DOMContentLoaded;
